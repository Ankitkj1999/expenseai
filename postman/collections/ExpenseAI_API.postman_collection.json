{
  "info": {
    "_postman_id": "59e67707-7b1f-4d58-b11f-abfe4f50c3a9",
    "name": "ExpenseAI API",
    "description": "API collection for ExpenseAI application with HTTP-only cookie-based authentication",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {"name": "Register User", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"}, "url": {"raw": "{{baseUrl}}/api/auth/register", "host": ["{{baseUrl}}"], "path": ["api", "auth", "register"]}, "description": "Register a new user account."}, "response": []},
        {"name": "Login", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"}, "url": {"raw": "{{baseUrl}}/api/auth/login", "host": ["{{baseUrl}}"], "path": ["api", "auth", "login"]}, "description": "Login with existing credentials."}, "response": []},
        {"name": "Get Current User", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/auth/me", "host": ["{{baseUrl}}"], "path": ["api", "auth", "me"]}, "description": "Get the currently authenticated user's information."}, "response": []},
        {"name": "Logout", "request": {"method": "POST", "header": [], "url": {"raw": "{{baseUrl}}/api/auth/logout", "host": ["{{baseUrl}}"], "path": ["api", "auth", "logout"]}, "description": "Logout the current user."}, "response": []}
      ],
      "description": "Authentication endpoints"
    },
    {
      "name": "Accounts",
      "item": [
        {"name": "List All Accounts", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/accounts", "host": ["{{baseUrl}}"], "path": ["api", "accounts"]}, "description": "Get all active accounts."}, "response": []},
        {"name": "Create Account", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"HDFC Bank\",\n  \"type\": \"bank\",\n  \"balance\": 10000,\n  \"currency\": \"INR\",\n  \"icon\": \"bank\",\n  \"color\": \"#10B981\"\n}"}, "url": {"raw": "{{baseUrl}}/api/accounts", "host": ["{{baseUrl}}"], "path": ["api", "accounts"]}, "description": "Create a new account."}, "response": []},
        {"name": "Get Account by ID", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/accounts/{{accountId}}", "host": ["{{baseUrl}}"], "path": ["api", "accounts", "{{accountId}}"]}, "description": "Get details of a specific account."}, "response": []},
        {"name": "Update Account", "request": {"method": "PUT", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Updated Cash Account\",\n  \"balance\": 7500,\n  \"color\": \"#EF4444\"\n}"}, "url": {"raw": "{{baseUrl}}/api/accounts/{{accountId}}", "host": ["{{baseUrl}}"], "path": ["api", "accounts", "{{accountId}}"]}, "description": "Update an existing account."}, "response": []},
        {"name": "Delete Account", "request": {"method": "DELETE", "header": [], "url": {"raw": "{{baseUrl}}/api/accounts/{{accountId}}", "host": ["{{baseUrl}}"], "path": ["api", "accounts", "{{accountId}}"]}, "description": "Soft delete an account."}, "response": []}
      ],
      "description": "Manage user accounts"
    },
    {
      "name": "Categories",
      "item": [
        {"name": "List All Categories", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/categories", "host": ["{{baseUrl}}"], "path": ["api", "categories"], "query": [{"key": "type", "value": "expense", "disabled": true}]}, "description": "Get all categories (system + custom)."}, "response": []},
        {"name": "Create Custom Category", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Pets\",\n  \"type\": \"expense\",\n  \"icon\": \"pets\",\n  \"color\": \"#F59E0B\"\n}"}, "url": {"raw": "{{baseUrl}}/api/categories", "host": ["{{baseUrl}}"], "path": ["api", "categories"]}, "description": "Create a new custom category."}, "response": []},
        {"name": "Update Custom Category", "request": {"method": "PUT", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Pet Care\",\n  \"color\": \"#10B981\"\n}"}, "url": {"raw": "{{baseUrl}}/api/categories/{{categoryId}}", "host": ["{{baseUrl}}"], "path": ["api", "categories", "{{categoryId}}"]}, "description": "Update a custom category."}, "response": []},
        {"name": "Delete Custom Category", "request": {"method": "DELETE", "header": [], "url": {"raw": "{{baseUrl}}/api/categories/{{categoryId}}", "host": ["{{baseUrl}}"], "path": ["api", "categories", "{{categoryId}}"]}, "description": "Delete a custom category."}, "response": []}
      ],
      "description": "Manage categories"
    },
    {
      "name": "Transactions",
      "item": [
        {"name": "List Transactions", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/transactions?limit=50&skip=0", "host": ["{{baseUrl}}"], "path": ["api", "transactions"], "query": [{"key": "limit", "value": "50"}, {"key": "skip", "value": "0"}, {"key": "type", "value": "expense", "disabled": true}, {"key": "accountId", "value": "", "disabled": true}, {"key": "categoryId", "value": "", "disabled": true}, {"key": "startDate", "value": "2024-01-01", "disabled": true}, {"key": "endDate", "value": "2024-01-31", "disabled": true}]}, "description": "Get transactions with filters and pagination.\n\n**Query Parameters:**\n- `type`: expense, income, or transfer\n- `accountId`: Filter by account\n- `categoryId`: Filter by category\n- `startDate`: Filter from date (ISO 8601)\n- `endDate`: Filter to date (ISO 8601)\n- `limit`: Max results (default: 50)\n- `skip`: Skip results for pagination"}, "response": []},
        {"name": "Create Expense", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"type\": \"expense\",\n  \"amount\": 500,\n  \"description\": \"Grocery shopping\",\n  \"accountId\": \"{{accountId}}\",\n  \"categoryId\": \"{{categoryId}}\",\n  \"tags\": [\"food\", \"weekly\"],\n  \"date\": \"2024-01-15T10:30:00.000Z\",\n  \"metadata\": {\n    \"location\": \"Supermarket\",\n    \"notes\": \"Weekly groceries\"\n  }\n}"}, "url": {"raw": "{{baseUrl}}/api/transactions", "host": ["{{baseUrl}}"], "path": ["api", "transactions"]}, "description": "Create an expense transaction.\n\n**Required:**\n- type, amount, description, accountId, categoryId"}, "response": []},
        {"name": "Create Income", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"type\": \"income\",\n  \"amount\": 5000,\n  \"description\": \"Freelance payment\",\n  \"accountId\": \"{{accountId}}\",\n  \"categoryId\": \"{{categoryId}}\",\n  \"tags\": [\"freelance\"],\n  \"date\": \"2024-01-15T10:30:00.000Z\"\n}"}, "url": {"raw": "{{baseUrl}}/api/transactions", "host": ["{{baseUrl}}"], "path": ["api", "transactions"]}, "description": "Create an income transaction.\n\n**Required:**\n- type, amount, description, accountId, categoryId"}, "response": []},
        {"name": "Create Transfer", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"type\": \"transfer\",\n  \"amount\": 1000,\n  \"description\": \"Transfer to savings\",\n  \"accountId\": \"{{accountId}}\",\n  \"toAccountId\": \"{{toAccountId}}\",\n  \"date\": \"2024-01-15T10:30:00.000Z\"\n}"}, "url": {"raw": "{{baseUrl}}/api/transactions", "host": ["{{baseUrl}}"], "path": ["api", "transactions"]}, "description": "Create a transfer between accounts.\n\n**Required:**\n- type, amount, description, accountId, toAccountId\n\n**Note:** Transfers don't use categoryId"}, "response": []},
        {"name": "Get Transaction by ID", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/transactions/{{transactionId}}", "host": ["{{baseUrl}}"], "path": ["api", "transactions", "{{transactionId}}"]}, "description": "Get details of a specific transaction."}, "response": []},
        {"name": "Update Transaction", "request": {"method": "PUT", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"amount\": 550,\n  \"description\": \"Updated grocery shopping\",\n  \"tags\": [\"food\", \"weekly\", \"organic\"]\n}"}, "url": {"raw": "{{baseUrl}}/api/transactions/{{transactionId}}", "host": ["{{baseUrl}}"], "path": ["api", "transactions", "{{transactionId}}"]}, "description": "Update a transaction. Account balances are automatically adjusted."}, "response": []},
        {"name": "Delete Transaction", "request": {"method": "DELETE", "header": [], "url": {"raw": "{{baseUrl}}/api/transactions/{{transactionId}}", "host": ["{{baseUrl}}"], "path": ["api", "transactions", "{{transactionId}}"]}, "description": "Delete a transaction and revert account balance changes."}, "response": []}
      ],
      "description": "Manage transactions with automatic balance updates"
    },
    {
      "name": "Budgets",
      "item": [
        {"name": "List All Budgets", "request": {"method": "POST", "header": [], "url": {"raw": "{{baseUrl}}/api/budgets", "host": ["{{baseUrl}}"], "path": ["api", "budgets"], "query": [{"key": "isActive", "value": "true", "disabled": true}, {"key": "categoryId", "value": "", "disabled": true}, {"key": "period", "value": "monthly", "disabled": true}]}, "description": "Get all budgets with optional filters.\n\n**Query Parameters:**\n- `isActive`: Filter by active status (true/false)\n- `categoryId`: Filter by category\n- `period`: Filter by period (daily, weekly, monthly, yearly)"}, "response": []},
        {"name": "Create Budget", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Monthly Groceries\",\n  \"categoryId\": \"{{categoryId}}\",\n  \"amount\": 10000,\n  \"period\": \"monthly\",\n  \"startDate\": \"2024-01-01T00:00:00.000Z\",\n  \"endDate\": \"2024-01-31T23:59:59.999Z\",\n  \"alertThreshold\": 80\n}"}, "url": {"raw": "{{baseUrl}}/api/budgets", "host": ["{{baseUrl}}"], "path": ["api", "budgets"]}, "description": "Create a new budget.\n\n**Required:**\n- name, amount, period, startDate, endDate\n\n**Optional:**\n- categoryId (null for overall budget)\n- alertThreshold (default: 80)"}, "response": []},
        {"name": "Create Overall Budget", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Monthly Spending Limit\",\n  \"amount\": 50000,\n  \"period\": \"monthly\",\n  \"startDate\": \"2024-01-01T00:00:00.000Z\",\n  \"endDate\": \"2024-01-31T23:59:59.999Z\",\n  \"alertThreshold\": 90\n}"}, "url": {"raw": "{{baseUrl}}/api/budgets", "host": ["{{baseUrl}}"], "path": ["api", "budgets"]}, "description": "Create an overall budget without category restriction."}, "response": []},
        {"name": "Get Budget by ID", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/budgets/{{budgetId}}", "host": ["{{baseUrl}}"], "path": ["api", "budgets", "{{budgetId}}"]}, "description": "Get details of a specific budget."}, "response": []},
        {"name": "Get Budget Status", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/budgets/{{budgetId}}/status", "host": ["{{baseUrl}}"], "path": ["api", "budgets", "{{budgetId}}", "status"]}, "description": "Get budget status with spending information.\n\n**Returns:**\n- spent: Total amount spent\n- remaining: Remaining budget\n- percentage: Usage percentage\n- isOverBudget: Whether budget exceeded\n- shouldAlert: Whether alert threshold reached"}, "response": []},
        {"name": "Update Budget", "request": {"method": "PUT", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Updated Budget Name\",\n  \"amount\": 12000,\n  \"alertThreshold\": 90\n}"}, "url": {"raw": "{{baseUrl}}/api/budgets/{{budgetId}}", "host": ["{{baseUrl}}"], "path": ["api", "budgets", "{{budgetId}}"]}, "description": "Update a budget. All fields are optional."}, "response": []},
        {"name": "Deactivate Budget", "request": {"method": "PUT", "header": [{"key": "Content-Type", "value": "application/json", "type": "text"}], "body": {"mode": "raw", "raw": "{\n  \"isActive\": false\n}"}, "url": {"raw": "{{baseUrl}}/api/budgets/{{budgetId}}", "host": ["{{baseUrl}}"], "path": ["api", "budgets", "{{budgetId}}"]}, "description": "Deactivate a budget without deleting it."}, "response": []},
        {"name": "Delete Budget", "request": {"method": "DELETE", "header": [], "url": {"raw": "{{baseUrl}}/api/budgets/{{budgetId}}", "host": ["{{baseUrl}}"], "path": ["api", "budgets", "{{budgetId}}"]}, "description": "Permanently delete a budget."}, "response": []}
      ],
      "description": "Manage budgets and track spending"
    },
    {
      "name": "Analytics",
      "item": [
        {"name": "Get Summary", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/analytics/summary?period=month", "host": ["{{baseUrl}}"], "path": ["api", "analytics", "summary"], "query": [{"key": "period", "value": "month"}, {"key": "startDate", "value": "2024-01-01", "disabled": true}, {"key": "endDate", "value": "2024-01-31", "disabled": true}]}, "description": "Get expense/income summary for a period.\n\n**Query Parameters:**\n- `period`: today, week, month, year, custom (default: month)\n- `startDate`: Required for custom period (ISO 8601)\n- `endDate`: Required for custom period (ISO 8601)\n\n**Returns:**\n- totalIncome: Total income for period\n- totalExpense: Total expenses for period\n- netBalance: Income - Expenses\n- transactionCount: Number of transactions\n- period: Date range used"}, "response": []},
        {"name": "Get Trends", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/analytics/trends?period=month&groupBy=day", "host": ["{{baseUrl}}"], "path": ["api", "analytics", "trends"], "query": [{"key": "period", "value": "month"}, {"key": "groupBy", "value": "day"}]}, "description": "Get spending trends over time.\n\n**Query Parameters:**\n- `period`: week, month, year (default: month)\n- `groupBy`: day, week, month (default: day)\n\n**Returns:**\nArray of trend data points:\n- date: Date/period identifier\n- income: Income for that period\n- expense: Expenses for that period\n- net: Net balance (income - expense)"}, "response": []},
        {"name": "Get Category Breakdown", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/analytics/category-breakdown?type=expense&period=month", "host": ["{{baseUrl}}"], "path": ["api", "analytics", "category-breakdown"], "query": [{"key": "type", "value": "expense"}, {"key": "period", "value": "month"}, {"key": "startDate", "value": "2024-01-01", "disabled": true}, {"key": "endDate", "value": "2024-01-31", "disabled": true}]}, "description": "Get category-wise breakdown of expenses or income.\n\n**Query Parameters:**\n- `type`: expense or income (default: expense)\n- `period`: today, week, month, year, custom (default: month)\n- `startDate`: Required for custom period\n- `endDate`: Required for custom period\n\n**Returns:**\nArray of category breakdowns:\n- categoryId: Category ID\n- categoryName: Category name\n- amount: Total amount\n- percentage: Percentage of total\n- transactionCount: Number of transactions\n- icon: Category icon\n- color: Category color"}, "response": []},
        {"name": "Get Comparison", "request": {"method": "GET", "header": [], "url": {"raw": "{{baseUrl}}/api/analytics/comparison?currentPeriod=month", "host": ["{{baseUrl}}"], "path": ["api", "analytics", "comparison"], "query": [{"key": "currentPeriod", "value": "month"}, {"key": "previousPeriod", "value": "month", "disabled": true}]}, "description": "Compare spending between two periods.\n\n**Query Parameters:**\n- `currentPeriod`: today, week, month, year (default: month)\n- `previousPeriod`: today, week, month, year (default: same as current)\n\n**Returns:**\n- current: Summary for current period\n- previous: Summary for previous period\n- change: Change metrics\n  - income: { amount, percentage }\n  - expense: { amount, percentage }\n  - net: { amount, percentage }"}, "response": []}
      ],
      "description": "Analytics and insights"
    },
    {
      "name": "AI Chat",
      "item": [
        {
          "name": "Send Chat Message",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json", "type": "text"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"What's my spending this month?\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            },
            "description": "Send a message to the AI assistant. The AI can:\n- Answer questions about your spending\n- Create transactions from natural language\n- Get budget status\n- Analyze spending patterns\n\n**Example Messages:**\n- \"I spent $50 on groceries\"\n- \"What's my spending this month?\"\n- \"Show me my budget status\"\n- \"Where is my money going?\"\n- \"Create an expense of $25 for coffee\"\n\n**Request Body:**\n- `messages`: Array of message objects with `role` and `content`\n- `sessionId` (optional): Continue an existing chat session\n\n**Response:**\nStreaming text response from the AI assistant.\n\n**Note:** Make sure you have:\n- Logged in (authentication cookie)\n- Created at least one account\n- Created some categories\n- Optionally, some existing transactions"
          },
          "response": []
        },
        {
          "name": "Create Transaction via AI",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json", "type": "text"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"I spent $75 on groceries at Walmart\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            },
            "description": "Create a transaction using natural language.\n\nThe AI will:\n1. Extract the amount, description, and category\n2. Use the createTransaction tool\n3. Confirm the transaction was created\n\n**Example Phrases:**\n- \"I spent $50 on groceries\"\n- \"Add an expense of $25 for coffee\"\n- \"I earned $1000 from freelancing\"\n- \"Transfer $500 from checking to savings\""
          },
          "response": []
        },
        {
          "name": "Get Spending Summary via AI",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json", "type": "text"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"What's my total spending this month?\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            },
            "description": "Ask the AI about your spending summary.\n\n**Example Questions:**\n- \"What's my spending this month?\"\n- \"How much did I spend this week?\"\n- \"What's my income vs expenses?\"\n- \"Show me my financial summary\""
          },
          "response": []
        },
        {
          "name": "Get Category Breakdown via AI",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json", "type": "text"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"Where is my money going? Show me category breakdown\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            },
            "description": "Ask the AI for category-wise spending breakdown.\n\n**Example Questions:**\n- \"Where is my money going?\"\n- \"Show me spending by category\"\n- \"What categories am I spending most on?\"\n- \"Break down my expenses\""
          },
          "response": []
        },
        {
          "name": "Check Budget Status via AI",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json", "type": "text"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"Am I over budget? Show me my budget status\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            },
            "description": "Ask the AI about your budget status.\n\n**Example Questions:**\n- \"Am I over budget?\"\n- \"Show me my budget status\"\n- \"How much budget do I have left?\"\n- \"Check my spending limits\""
          },
          "response": []
        },
        {
          "name": "Get Chat Sessions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"],
              "query": [
                {"key": "sessionId", "value": "{{sessionId}}", "disabled": true}
              ]
            },
            "description": "Get chat session history.\n\n**Without sessionId:** Returns list of all your chat sessions (last 10)\n**With sessionId:** Returns specific session with all messages\n\n**Response:**\n- sessions: Array of chat sessions\n- Each session contains:\n  - _id: Session ID\n  - userId: Your user ID\n  - messages: Array of messages\n  - createdAt: Creation timestamp\n  - updatedAt: Last update timestamp"
          },
          "response": []
        }
      ],
      "description": "AI-powered chat interface with tool calling capabilities"
    }
  ],
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:3000", "type": "string"},
    {"key": "accountId", "value": "", "type": "string"},
    {"key": "toAccountId", "value": "", "type": "string"},
    {"key": "categoryId", "value": "", "type": "string"},
    {"key": "transactionId", "value": "", "type": "string"},
    {"key": "budgetId", "value": "", "type": "string"},
    {"key": "sessionId", "value": "", "type": "string"}
  ]
}
